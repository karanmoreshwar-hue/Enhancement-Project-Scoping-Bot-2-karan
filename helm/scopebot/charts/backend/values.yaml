replicaCount: 1

image:
  repository: scopebot-backend
  pullPolicy: IfNotPresent
  tag: "latest"

service:
  type: ClusterIP
  port: 8000
  targetPort: 8000

resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 500m
    memory: 512Mi

# Environment variables (non-sensitive)
env:
  ANONYMIZED_TELEMETRY: "false"
  USE_GEMINI: "true"
  FRONTEND_URL: "http://frontend"
  VECTOR_DIM: "1536"
  QDRANT_HOST: "qdrant"
  QDRANT_PORT: "6333"
  QDRANT_COLLECTION: "scopebot_knowledge"

# Sensitive environment variables (stored in secret)
secrets:
  GEMINI_API_KEY: ""  # REPLACE with your API key
  GEMINI_MODEL: "gemini-pro"
  JINA_API_KEY: ""  # REPLACE with your API key
  JINA_MODEL: "jina-embeddings-v2-base-en"
  POSTGRES_DB: "scopebot"
  POSTGRES_USER: "scopebot"
  POSTGRES_PASSWORD: ""  # REPLACE with secure password
  DATABASE_URL: "postgresql://scopebot:PASSWORD@postgres:5432/scopebot"  # REPLACE PASSWORD
  SECRET_KEY: ""  # REPLACE with random secret (e.g., openssl rand -hex 32)
  ALGORITHM: "HS256"
  ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  REFRESH_TOKEN_EXPIRE_DAYS: "7"
  SMTP_HOST: ""  # REPLACE if using email
  SMTP_PORT: "587"
  SMTP_USER: ""  # REPLACE if using email
  SMTP_PASS: ""  # REPLACE if using email
  OLLAMA_HOST: ""  # Optional
  OLLAMA_MODEL: ""  # Optional
  # Azure placeholders (uncomment if using Azure)
  # AZURE_OPENAI_API_KEY: ""
  # AZURE_OPENAI_ENDPOINT: ""
  # AZURE_OPENAI_API_VERSION: ""
  # AZURE_STORAGE_CONNECTION_STRING: ""
  # AZURE_STORAGE_CONTAINER: ""

# Storage paths
volumes:
  localStoragePath: "/app/storage"
  knowledgeBasePath: "/app/knowledge_base"
  chromaPersistDir: "/app/chroma_data"
